import{a as w,s as x,j as o,b as l}from"./noteState.CxiVbVoC.js";import{r as s}from"./index.DhYZZe0J.js";function L({children:h,number:u,id:t=`sn-${u}`}){const[a,m]=s.useState(!1),[c,g]=s.useState(!1),[b,f]=s.useState(!0),e=s.useRef(null),n=s.useRef(null);s.useEffect(()=>{const r=()=>{const i=window.innerWidth<760;if(m(i),e.current&&n.current)if(i){let d=n.current.closest("p");if(!d)return;d.appendChild(e.current),e.current.classList.add("mobile-block"),e.current.classList.remove("mobile")}else n.current.nextSibling!==e.current&&n.current.after(e.current),e.current.classList.remove("mobile-block"),e.current.classList.add("mobile")};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),s.useEffect(()=>w(i=>{g(i===t)}),[t]),s.useEffect(()=>x(i=>{f(i)}),[]);const p=()=>{a?b?c?l(null):(l(t),document.getElementById(t)?.scrollIntoView({behavior:"smooth"})):(l(t),f(!0)):c?l(null):l(t)};return o.jsxs(o.Fragment,{children:[o.jsx("sup",{ref:n,className:"sidenote-number",onClick:p,style:{cursor:"pointer"},children:u}),o.jsxs("span",{ref:e,id:t,className:`sidenote ${c?"highlighted":""} ${a?"mobile":""} ${a&&!b&&!c?"hidden":""}`,children:[u,". ",h]})]})}export{L as default};
